(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38d9de18"],{"114e":function(e,t,s){"use strict";var n=s("1cb2"),i=s.n(n);i.a},"1cb2":function(e,t,s){},"2e90":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{class:{scrollable:e.scrollable}},[e._l(e.items,(function(t,n){return e._t("row",[s("ListRow",{key:t.id,attrs:{value:e.getValue(t),selected:e.itemSelected(t)}},[e._v(e._s(t))])],{item:t,selected:e.selected,index:n})}))],2)},i=[],a=s("098d"),o={name:"list",components:{ListRow:a["a"]},props:{items:{type:Array,required:!0},scrollable:{type:Boolean,default:!1},selected:{type:String,default:""},rowComponent:{type:Function}},methods:{getValue:function(e){return e||e.value},itemSelected:function(e){return this.getValue(e)===this.selected}}},r=o,l=(s("8b7d"),s("2877")),c=Object(l["a"])(r,n,i,!1,null,"a8976c1a",null);t["a"]=c.exports},"56d9":function(e,t,s){"use strict";var n=s("eac1"),i=s.n(n);i.a},"6b51":function(e,t,s){},"7c44":function(e,t,s){"use strict";var n=s("cb81"),i=s.n(n);i.a},"8b7d":function(e,t,s){"use strict";var n=s("a4c7"),i=s.n(n);i.a},"93be":function(e,t,s){"use strict";var n=s("cc0f"),i=s.n(n);i.a},"9d03":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("list-row",{staticClass:"song-wrapper-container",class:e.isPlaying?"is-playing-background":"",staticStyle:{width:"auto"},attrs:{value:e.song.id,selected:e.selected}},[n("div",{ref:"outer-row-"+e.song.id,staticClass:"song-container",on:{mouseover:function(t){e.showControls=!0},mouseleave:function(t){e.showControls=!1},click:function(t){return e.handleSelect()}}},[n("div",{staticClass:"name-container"},[e.song.name?n("div",{staticClass:"d-flex align-center"},[e.song.name?n("HighlightWords",{staticClass:"wrapper",class:e.isPlaying?"teal-text":"",attrs:{searchWords:e.keywords,autoEscape:!0,textToHighlight:e.song.name,highlightClassName:"highlight",highlightTag:"i"}}):e._e(),n("div",{staticClass:"face d-flex align-center",class:e.isPlaying?"mr-7":""},[n("lottie-animation",{staticClass:"ml-2 lottie-face position-absolute",class:e.isPlaying&&e.isWavePlaying?"":"hidden",attrs:{path:"generic-loader.json",height:22,width:22,loop:!0}}),n("img",{staticClass:"static-face position-absolute",class:e.isPlaying&&!e.isWavePlaying?"":"hidden",attrs:{src:s("c4b1"),width:17}})],1)],1):n("div",{staticClass:"d-flex align-center",class:e.isPlaying?"teal-text":""},[e._v(" "+e._s("New Song")+" "),n("div",{staticClass:"face d-flex align-center",class:e.isPlaying?"mr-7":""},[n("lottie-animation",{staticClass:"ml-2 lottie-face position-absolute",class:e.isPlaying&&e.isWavePlaying?"":"hidden",attrs:{path:"generic-loader.json",height:22,width:22,loop:!0}}),n("img",{staticClass:"static-face position-absolute",class:e.isPlaying&&!e.isWavePlaying?"":"hidden",attrs:{src:s("c4b1"),width:17}})],1)]),n("div",{staticClass:"artist-name"},[e.song.artistName?n("HighlightWords",{staticClass:"wrapper",attrs:{highlightClassName:"highlight",highlightTag:"i",searchWords:e.keywords,autoEscape:!0,textToHighlight:e.song.artistName||"New Song"}}):n("span",[e._v(e._s(e.song.artistName||"New Artist"))])],1)]),n("div",{staticClass:"song-info"},[!e.isMobile()&&e.showControls&&e.showOptions?n("div",{staticClass:"pointer",staticStyle:{"margin-right":"36px",height:"20px",width:"20px"},on:{click:function(t){return t.stopPropagation(),e.handleSelectOption("edit")}}},[n("img",{attrs:{src:s("6b14")}})]):e._e(),(e.isMobile()||e.showControls)&&e.showOptions?n("div",{staticClass:"pointer",staticStyle:{"margin-right":"24px",height:"20px",width:"20px"},on:{click:function(t){t.stopPropagation(),e.menuCollapsed=!e.menuCollapsed}}},[n("img",{ref:"options-menu-"+e.song.id,attrs:{src:s("3b05")}}),e.menuCollapsed?e._e():n("Menu",{attrs:{items:e.items,positionRef:e.optionsRef,isMobile:e.isMobile()},on:{"item-selected":function(t){return e.handleSelectOption(t)}}})],1):e._e(),e.song.duration&&!e.isMobile()||e.showDurationInMobile?n("div",{class:e.isPlaying?"teal-text":"",on:{click:e.handleSelect}},[e._v(" "+e._s(e.calculateDuration(e.song.duration))+" ")]):e._e()])])])},i=[],a=s("098d"),o=s("2d8d"),r=s("6456"),l=s("7926"),c={name:"song-row",data:function(){return{windowWidth:window.innerWidth,menuCollapsed:!0,showControls:!1,optionsRef:null,items:[{title:"Edit",value:"edit"},{title:"Download",value:"download"},{title:"Share",value:"share"},{title:"Own",value:"own"}]}},components:{ListRow:a["a"],Menu:o["a"],HighlightWords:r["a"],LottieAnimation:l["default"]},props:{song:{type:Object,required:!0},selected:{type:Boolean,default:!1},showOptions:{type:Boolean,default:!0},words:{type:String,default:""},showDurationInMobile:{type:Boolean,default:!1},playlistOrigin:{type:String,required:!1},isWavePlaying:{type:Boolean,required:!1},activeSongId:{required:!1}},mounted:function(){var e=this;this.optionsRef=this.isMobile()?this.$refs["outer-row-".concat(this.song.songId)]:this.$refs["options-menu-".concat(this.song.songId)],this.$nextTick((function(){window.addEventListener("resize",e.onResize)}))},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:{onResize:function(){this.windowWidth=window.innerWidth},isMobile:function(){return this.windowWidth<1024},calculateDuration:function(e){var t=Math.floor(e/60),s=e%60;return"".concat(this.changeZeroForDoubleZero(t),":").concat(this.changeZeroForDoubleZero(s))},changeZeroForDoubleZero:function(e){var t=e;return e<10&&(t="0".concat(e)),t},handleSelectOption:function(e){event.stopPropagation(),this.menuCollapsed=!0,event.preventDefault(),this.$emit("option-selected",{id:this.song.id,option:e})},handleSelect:function(){this.$emit("song-selected",{playlistOrigin:this.playlistOrigin,id:this.song.id})}},computed:{keywords:function(){return this.words.split(" ")},isPlaying:function(){return this.activeSongId===this.song.id}}},u=c,g=(s("f704"),s("2877")),d=Object(g["a"])(u,n,i,!1,null,"4f8efe6c",null);t["a"]=d.exports},a4c7:function(e,t,s){},bb51:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"px-4"},[s("div",{staticClass:"mt-4"},[s("h2",{staticClass:"mb-2"},[e._v("Featured releases")]),s("div",{staticClass:"releaseSpacing"},[s("Release",{attrs:{items:this.$store.getters["album/featuredReleaseAlbums"]}})],1),s("div",{staticClass:"filter-container"},[s("InputField",{attrs:{value:e.songQuery,beforeInputImage:"search",placeholder:"Search songs",inputStyle:"width: 100%;",containerStyle:"flex:2;"},on:{input:e.handleSongQueryInput}}),s("Dropdown",{attrs:{buttonTitle:e.isMobile()?"Sort By:":"Sort By: "+e.selectedSortOption(e.sortOptions),items:e.sortOptions,model:[e.sortSongResultsBy],variant:"secondary-fullwidth",containerStyle:"flex: 1; marginLeft: 8px;"},on:{"item-selected":function(t){e.handleSelectSortOption(t.toLowerCase())}}})],1),s("div",{staticClass:"search-loading"},[s("div",{staticClass:"text-center",staticStyle:{color:"#8f7af0"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.fetchingSearchResultSongs,expression:"fetchingSearchResultSongs"}]},[s("i",{staticClass:"fa fa-refresh fa-spin mr-1"}),e._v(" Searching... ")])])]),e.totalSearchResultSongs&&e.songQuery.length?s("list",{staticClass:"song-list",attrs:{items:e.currentPageSongResults},scopedSlots:e._u([{key:"row",fn:function(t){var n=t.item;return[s("song-row",{key:n.id,attrs:{showOptions:!1,showControls:!1,song:n,words:e.songQuery,activeSongId:e.activeSongId,isWavePlaying:e.isWavePlaying},on:{"song-selected":e.setPlaylist},nativeOn:{click:function(t){return e.setActiveSong(n.id)}}})]}}],null,!1,744114613)}):e.songQuery.length&&!e.fetchingSearchResultSongs?s("div",{staticClass:"song-list d-flex flex-column align-center"},[s("span",[e._v("Sorry, no results")]),s("boomy-btn",{staticClass:"cursor-pointer mt-2",on:{click:function(t){e.songQuery=""}}},[e._v(" Clear search query ")])],1):e._e(),s("pagination-controls",{staticClass:"mb-5",attrs:{show:e.totalSearchResultSongs>0&&e.songQuery.length>0,contentLength:e.totalSearchResultSongs,start:e.songResultsStart,end:e.songResultsEnd},on:{onClickBack:function(t){e.songResultsPage-=1},onClickForward:function(t){e.songResultsPage+=1}}})],1),s("v-row",[s("v-col",{attrs:{sm:"12",md:"6"}},[s("h2",{staticClass:"mb-2"},[e._v("Trending")]),s("list",{attrs:{items:e.trending},scopedSlots:e._u([{key:"row",fn:function(t){var n=t.item,i=t.index;return[s("challenge-list-item",{attrs:{challenge:n,index:i},on:{onClick:e.handleTagClick}})]}}])})],1),s("v-col",{attrs:{sm:"12",md:"6"}},[s("h2",[e._v("Featured songs")]),s("div",e._l(e.homepageTracks,(function(t){return s("div",{key:t.songId,staticClass:"song-container"},[s("song-row",{attrs:{song:t,showDurationInMobile:!0,showOptions:!1,activeSongId:e.activeSongId,isWavePlaying:e.isWavePlaying,playlistOrigin:"featured-songs"},on:{"song-selected":e.setPlaylist},nativeOn:{click:function(s){return e.setActiveSong(t.id)}}})],1)})),0)])],1)],1)},i=[],a=s("4795"),o=s.n(a),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"challenge-container",on:{click:e.onClick}},[s("div",{staticClass:"list-number"},[e._v(" "+e._s(e.index+1)+" ")]),s("div",{staticClass:"image-container"},[s("img",{staticClass:"thumb-image",attrs:{alt:"image",src:e.challenge.thumbnailImage}})]),s("span",{staticClass:"font-weight-500"},[e._v("#"+e._s(e.challenge.tag))])])},l=[],c={props:{index:{type:Number,required:!0},challenge:{type:Object,required:!0}},methods:{onClick:function(){this.$emit("onClick",this.challenge)}}},u=c,g=(s("56d9"),s("2877")),d=Object(g["a"])(u,r,l,!1,null,"6a2359f3",null),h=d.exports,f=s("711b"),m=s("8192"),p=s("2e90"),v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{staticClass:"d-flex justify-content-between align-center mt-3"},[e.start>0?s("v-btn",{staticClass:"mr-3",attrs:{fab:"",small:"",ripple:!1},on:{click:e.handleBackClick}},[s("boomy-icon",{attrs:{name:"mdiChevronLeft"}})],1):s("div",{staticClass:"page-button"}),s("span",[e._v(e._s(e.start+1)+"-"+e._s(Math.min(e.contentLength,e.end))+" of "+e._s(e.contentLength))]),e.end<e.contentLength?s("v-btn",{staticClass:"ml-3",attrs:{fab:"",small:"",ripple:!1},on:{click:e.handleForwardClick}},[s("boomy-icon",{attrs:{name:"mdiChevronRight"}})],1):s("div",{staticClass:"page-button"})],1):e._e()},y=[],w={name:"pagination-controls",props:{show:{type:Boolean,required:!0},contentLength:{type:Number,required:!0},start:{type:Number,required:!0},end:{type:Number,required:!0}},data:function(){return{currentPage:0}},methods:{handleBackClick:function(){this.$emit("onClickBack")},handleForwardClick:function(){this.$emit("onClickForward")}}},b=w,S=(s("114e"),s("6544")),C=s.n(S),R=s("8336"),P=Object(g["a"])(b,v,y,!1,null,"06a5f8eb",null),k=P.exports;C()(P,{VBtn:R["a"]});var _=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"listoffeatures"},[e._l(e.items,(function(t){return s("div",{key:t.id,staticClass:"contains choices",on:{click:function(s){return e.handleClickRelease(t)}}},[s("img",{attrs:{src:t.thumbnails?t.thumbnails.small:t.coverArtUrl,width:"112",height:"112"}}),s("p",{staticClass:"releasename"},[e._v(e._s(t.title))]),s("p",{staticClass:"artistname"},[e._v(e._s(t.artistName))])])})),e.showReleaseModal?s("release-modal",{attrs:{release:e.selectedRelease,mobile:e.windowWidth<1024},on:{close:function(t){e.showReleaseModal=!1}}}):e._e()],2)},O=[],x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"overlay d-flex align-items-center justify-content-center",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleClose(t)}}},[n("div",{staticClass:"release-modal",class:{mobile:e.mobile}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading||!!e.timeout||!this.$getSmartLink(e.release),expression:"!loading || !!timeout || !this.$getSmartLink(release)"}],staticClass:"justify-content-between close-div text-right"},[n("img",{staticStyle:{cursor:"pointer"},attrs:{src:s("c6ce")},on:{click:function(t){return e.$emit("close")}}})]),!e.timeout&&this.$getSmartLink(e.release)?n("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"release-iframe",attrs:{src:this.$getSmartLink(e.release),frameborder:"0",sandbox:"allow-scripts allow-same-origin"},on:{load:e.iframeLoaded}}):e._e(),e.loading&&!e.timeout&&this.$getSmartLink(e.release)?n("div",{staticClass:"d-flex justify-content-center align-items-center flex-column loader"},[n("lottie-animation",{attrs:{path:"generic-loader.json",height:80,width:80,loop:!0,"auto-play":!0}})],1):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:!!e.timeout||!this.$getSmartLink(e.release),expression:"!!timeout || !this.$getSmartLink(release)"}],staticClass:"modal-disclaimer"},[this.$getSmartLink(e.release)?n("p",[e._v(" Unable to load release details. Please try again. ")]):n("p",[e._v(" Unable to load release details. ")]),this.$getSmartLink(e.release)?n("Button",{attrs:{action:e.retryIframeLoad,variant:"primary"}},[e._v("Retry")]):e._e()],1)])])},T=[],$=s("2a7d"),j={name:"release-modal",components:{Button:$["default"],LottieAnimation:function(){return Promise.resolve().then(s.bind(null,"7926"))}},data:function(){return{loading:!0,timeout:!1,timoutRef:null}},props:{mobile:{type:Boolean,default:!1},release:{type:Object,required:!0}},methods:{handleClose:function(){this.$emit("close",null)},iframeLoaded:function(){this.loading=!1},iframeTimeout:function(){var e=this;this.timeoutRef=setTimeout((function(){e.loading&&(e.timeout=!0)}),5e3)},retryIframeLoad:function(){this.timeout=!1,this.iframeTimeout()}},mounted:function(){this.iframeTimeout()},destroyed:function(){clearTimeout(this.timeoutRef)}},L=j,I=(s("7c44"),Object(g["a"])(L,x,T,!1,null,"0e8aa0f4",null)),W=I.exports,B={components:{ReleaseModal:W},data:function(){return{showReleaseModal:!1,selectedRelease:null,windowWidth:window.innerWidth}},props:{items:{type:Array}},methods:{handleClickRelease:function(e){window.open(this.$getSmartLink(e),"_blank"),this.$amplitude.getInstance().logEvent("release_stream_click",{release_id:e.id})}}},M=B,E=(s("93be"),Object(g["a"])(M,_,O,!1,null,"6c6c0abd",null)),F=E.exports,D=s("9d03"),A=s("9f87"),N=s("2ef0"),q=s("2f62");function Q(e,t,s,n,i,a,o){try{var r=e[a](o),l=r.value}catch(c){return void s(c)}r.done?t(l):Promise.resolve(l).then(n,i)}function H(e){return function(){var t=this,s=arguments;return new Promise((function(n,i){var a=e.apply(t,s);function o(e){Q(a,n,i,o,r,"next",e)}function r(e){Q(a,n,i,o,r,"throw",e)}o(void 0)}))}}function V(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function Z(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?V(Object(s),!0).forEach((function(t){z(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):V(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function z(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var U=[{title:"Artist",value:"artist"},{title:"Song Title",value:"song"},{title:"Date created",value:"date"}],J={name:"home",components:{ChallengeListItem:h,List:p["a"],SongRow:D["a"],InputField:m["a"],Dropdown:f["a"],PaginationControls:k,Release:F},data:function(){return{songQuery:"",songResultsPage:0,songResultsPerPage:10,sortSongResultsBy:"date",sortOptions:U,trending:[],featuredReleases:[],featureSongs:[]}},computed:Z(Z({},Object(q["c"])({searchResultSongs:"song/getSearchResultSongs",fetchingSearchResultSongs:"song/fetchingSearchResultSongs",totalSearchResultSongs:"song/getSearchResultSongsTotal",homepageTracks:"song/getHomepageTracks",fetchingHomepageTracks:"song/fetchingHomepageTracks",activeSongId:"player/getActiveSongId",isWavePlaying:"player/isPlaying"})),{},{spotifyCtaComponent:function(){return this.$vuetify.breakpoint.mobile?"SpotifyCtaMobile":"SpotifyCtaDesktop"},songResultsStart:function(){return(this.songResultsPage-1)*this.songResultsPerPage},songResultsEnd:function(){return this.songResultsStart+this.songResultsPerPage},currentPageSongResults:function(){return this.searchResultSongs.slice(this.songResultsStart,this.songResultsEnd)}}),watch:{songQuery:function(e){e&&this.debouncedFetchSearchResultSongs(this.songResultsPage,this.sortSongResultsBy,e)},songResultsPage:function(e){this.currentPageSongResults.length||this.fetchSearchResultSongs({page:e,perPage:this.songResultsPerPage,sort:this.sortSongResultsBy,query:this.songQuery,shouldReset:!1})},sortSongResultsBy:function(e){this.fetchSearchResultSongs({page:this.songResultsPage,perPage:this.songResultsPerPage,sort:e,query:this.songQuery,shouldReset:!0}),this.songResultsPage=1}},mounted:function(){this.loadFeaturedTags(),this.fetchHomepageTracks(),this.$store.getters["album/featuredReleaseStale"]&&this.fetchFeaturedRelease()},methods:Z(Z({loadFeaturedTags:function(){var e=this;return H(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A["a"].getFeaturedTags().then((function(t){200===t.status&&t.data.results&&(e.trending=t.data.results)}),(function(e){console.log(e)}));case 2:e.fetching=!1;case 3:case"end":return t.stop()}}),t)})))()},setPlaylist:function(e){var t;this.setPlaylistAndOrigin({playlistOrigin:null!==(t=e.playlistOrigin)&&void 0!==t?t:"searched-song",activePlaylistTotal:this.homepageTracks.length,songsGetter:"song/getHomepageTracks"})},setActiveSong:function(e){this.$store.commit("player/SET_ACTIVE",e)}},Object(q["b"])({setActiveSong:"player/setActiveSongId",setPlaylistAndOrigin:"playlist/setPlaylistAndOrigin",fetchSearchResultSongs:"song/fetchSearchResultSongs",fetchHomepageTracks:"song/fetchHomepageTracks",fetchFeaturedRelease:"album/fetchFeaturedRelease"})),{},{debouncedFetchSearchResultSongs:Object(N["debounce"])((function(e,t,s){this.fetchSearchResultSongs({page:e,perPage:this.songResultsPerPage,sort:t,query:s,shouldReset:!0})}),300),handleSongQueryInput:function(e){this.songQuery=e,this.songResultsPage=1},handleSelectSortOption:function(e){this.sortSongResultsBy=e},handleTagClick:function(e){this.$router.push({name:this.$routes.Tag,params:{id:e.tag}})},selectedSortOption:function(){var e=this;return this.sortOptions.find((function(t){return t.value===e.sortSongResultsBy})).title},isMobile:function(){return window.innerWidth<1024}})},G=J,K=(s("f20c"),s("62ad")),X=s("0fd9"),Y=Object(g["a"])(G,n,i,!1,null,"02dd9334",null);t["default"]=Y.exports;C()(Y,{VCol:K["a"],VRow:X["a"]})},bf41:function(e,t,s){},cb81:function(e,t,s){},cc0f:function(e,t,s){},eac1:function(e,t,s){},f20c:function(e,t,s){"use strict";var n=s("6b51"),i=s.n(n);i.a},f704:function(e,t,s){"use strict";var n=s("bf41"),i=s.n(n);i.a}}]);